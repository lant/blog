---
layout: post
title: Nous models de bases de dades
date: '2009-04-27T23:12:00.001+01:00'
author: Marc de Palol
tags:
- bases de dades
modified_time: '2009-04-27T23:13:26.264+01:00'
blogger_id: tag:blogger.com,1999:blog-6541464271719475452.post-8903685164349554521
blogger_orig_url: http://distribuint.blogspot.com/2009/04/nous-models-de-bases-de-dades.html
---

<p>Aquest post és una introducció a una sèrie d'escrits que aniré fent relacionats amb els nous models de bases de dades que estan apareguent, i que estan tinguent una bona acceptació en diversos sectors del món empreserial relacionat amb informàtica (el perquè d'això mereix un post per si sól)</p><br /><p>Primer de tot, aquests nous models s'allunyen bastant del model relacional de bases de dades al que suposo que tots estàvem més que acostumats. Sí, això vol dir tenir una base de dades sense SQL. Estrany oi?</p><br /><p>El model relacional funciona molt bé per algunes aplicacions, però no és una solució universal que serveixi per tot. Fins fa poc era ben normal trobar aplicactius o arquitectures que tenien instal·lada una RDB tipus MySql o Postgres i que tant sols era utilitzada com a magatzem de dades. Amb això vull dir que no s'utilitzaven les propietats ACID d'una base de dades relacional, per tant, SELECTS senzills i UPDATES.</p><br /><p>Fins aquí tot bé i cap problema, s'està infrautilitzant una eina molt potent, però no és res greu i si funciona doncs perfecte. Ara bé, pot ser que arribin els problemes en forma de:</p><br /><ul><br /> <li><b>Escalabilitat:</b> La base de dades s'ha fet molt gran i la màquina, o bé la base de dades no pot suportar els continguts que ha de guardar o bé la càrrega de les diverses aplicacions que l'usten. Què cal fer? cal passar-se a una base de dades més potent o intentem repartir la càrrega de la base de dades entre altres màquines?<br /> <li><b>Disponibilitat:</b> Què passa si la màquina de té la base de dades no està disponible? es queda tot aturat? És fàcil fer backups i restaurar-los en cas de que sigui necessari?. Serà un drama?<br /></ul> <br /><p>Qualsevol administrador de bases de dades sabrà que els dos punts anteriors són importants i els dos són, lògicament, solucionables utilitzant qualsevol motor de base de dades decent, fins a cert punt.</p><br /><p>Ara bé, si tenim en compte empreses del nivell de Google, Amazon, Linkedin, Yahoo... que maneguen cada dia unes quantitats de dades MOLT grans hem de pensar que les seves bases de dades han de ser inmenses i lògicament els seus administradors han hagut de tenir en compte els dos problemes anteriors. Com s'ho han fet? doncs bàsicament han abandonat el model de bases de dades relacionals (i les seves implementacions) i han passat a uns models nous, fets a mida (lògicament només pels usos que no requerien una base de dades relacionals!).</p><br /><p>Hem de tenir en compte que aquestes empreses tenen molts de recursos i que també ténen unes necessitats bastant específiques, probablement per moltes de les seves aplicacions el model relacional els ajudi ben poc. En molts casos el que necessiten és tant sols "una taula de hash monstruosament gran i monstruosament ràpida". Aquest concepte, conegut com DHT (Distributed Hash Table) no és nou, en l'àmbit de recerca ja és ben conegut i fins i tot hi ha diverses implementacions disponibles, cadascuna enfocada a solucionar problemes lleugerament diferents: <br /><ul><br /> <li><a href="http://pdos.csail.mit.edu/chord/">Chord</a><br /> <li><a href="http://freepastry.org/">Pastry</a><br /> <li><a href="http://current.cs.ucsb.edu/projects/chimera/">Chimera</a><br /></ul> <br /><p>Aquests projectes són els que van posar les bases del que després acabaria apareguent. Si aneu a les pàgines d'aquests projectes veureu que tot i que ténen implementacions estables no són utilitzades en entorns de producció empresarial (<i>que jo sàpiga o hagi sapigut trobar, si estic equivocat sisplau feu-m'ho saber</i>). Una part molt interessant d'aquests projectes és l'apartat d'articles, on s'expliquen les diverses decisions de disseny, diferents problemes que s'ha hagut de solucionar així com diferents algorismes molt importants en el món de la informàtica distribuïda i sobre els quals tinc pensat fer algun post properament.</p><br /><p>Les DHT no són trivials ni de dissenyar ni d'implementar, el seu concepte és senzill, una taula de hash distribuïda, però no ens hem de deixar enganyar. Ténen molta tela.</p><br /><p>Google i Amazon es van posar en marxa i cadascuna va implementar-se la seva pròpia base de dades especificament pels seus usos, un cop les van tenir implementades, provades <i>i en producció</i> van publicar cadascuna un article, que en certa manera són els articles que van començar amb la "moda" de les noves bases de dades:<br /><ul><br /> <li><b>De part de Google.</b><a href="http://labs.google.com/papers/bigtable.html"> Bigtable: A Distributed Storage System for Structured Data.</a><br /> <li><b>De part d'Amazon.</b><a href="http://www.allthingsdistributed.com/2007/10/amazons_dynamo.html"> Dynamo: Amazon's Highly Available Key-value Store.</a><br /></ul><br /><p>A partir de llavors han aparegut moltes bases de dades basades en aquests papers, gens sorprenentment algunes basant-se amb el model <i>Bigtable</i> i d'altres que més que bases de dades s'anomenen <i>Key-Value Stores</i> i que, lògicament, es basen en Dynamo.</p><br /><p>Els articles són realment molt interessants i de lectura obligada per qualsevol persona interessada en escalabilitat, bases de dades i noves tecnologies.</p><br /><p>En el pròxim post resumiré el paper de la <i>Bigtable</i> de google, i en el següent la <i>Dynamo</i> d'Amazon, per veure'n bé les diferències, tant de disseny com d'ús pràctic. I més endavant, i depenent del meu temps descriuré les meves experiències reals amb diverses implementacions, de moment tinc pensades:<br /><ul><br /> <li><a href="http://couchdb.apache.org/">CouchDB</a>, de la qual ja n'he parlat en <a href="http://distribuint.blogspot.com/2009/03/couchdb-i-key-value-stores.html">aquest blog</a>.<br /> <li><a href="http://project-voldemort.com/">Voldemort</a>, que és la Key-Value Store que han implementat a LinkedIn. <br /></ul>