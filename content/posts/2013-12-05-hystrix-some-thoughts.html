---
layout: post
title: 'Hystrix, some thoughts. '
date: '2013-12-05T14:31:00.000Z'
author: Marc de Palol
tags:
- hystrix
- distributed systems
- high availability
- api
- reliability
modified_time: '2013-12-05T14:31:10.635Z'
blogger_id: tag:blogger.com,1999:blog-6541464271719475452.post-5612922747554656576
blogger_orig_url: http://distribuint.blogspot.com/2013/12/hystrix-some-thoughts.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Yep, long time no see!<br /><br />You know Hystrix? if you are building distributed systems (in the JVM) you should probably use it. If you want to sleep at night that is.<br /><br />First a gentle introduction. Hystrix a is a library open-sourced by Netflix that helps you deal (and live) with failures in distributed systems. You can find some docs [<a href="https://github.com/Netflix/Hystrix/wiki" target="_blank">here</a>], the blog post announcing it [<a href="http://techblog.netflix.com/2012/11/hystrix.html" target="_blank">here</a>] and the code in [<a href="https://github.com/Netflix/Hystrix" target="_blank">github</a>], oh, and they even have a [<a href="https://twitter.com/HystrixOSS" target="_blank">twitter account</a>].<br /><br />So Hystrix lets your system fail in a controlled way instead of going down in a free fall. It does this by letting the user create fallbacks and using the <a href="https://en.wikipedia.org/wiki/Circuit_breaker_design_pattern" target="_blank">circuit breaker pattern</a>.<br /><br />Lets do a small pause here, if you don't know what the <i>circuit breaker pattern</i>&nbsp;is you should go and grab this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://imagery.pragprog.com/products/93/mnee.jpg?1298589747" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://imagery.pragprog.com/products/93/mnee.jpg?1298589747" width="266" /></a></div><br /><br /><div style="text-align: center;"><a href="http://pragprog.com/book/mnee/release-it" target="_blank">Release It!</a>&nbsp;</div><div style="text-align: center;">(<i><span style="font-size: x-small;">I have no commission unfortunately</span></i>)</div><div style="text-align: center;"><br /></div><div style="text-align: justify;">I got this book by chance and it was a real life saver. It basically describes real world errors and how they escalated from a database lock to a full disaster and how they can be detected and prevented. More or less. Basically it taught me that failure needs to be a first citizen when you design a system. Failure will happen. Period.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Getting back to Hystrix...&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Hystrix is basically and implementation of the patterns described in the book, and in fact, I really think that the github page should have a message telling the user to read the book, and once that's done get back to Hystrix. Everything makes (much more) sense afterwards.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">I've been playing a little bit with it, with toy method basically and well, it works really nicely (as expected, coming from Netflix). It might seem to be a little cumbersome, you really need to write lots of code, but I don't know of any better alternative, or worse in fact. Other than filling your code with <i>try ... catch ... finally </i>&nbsp;and your own fallback methods.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Overall, the library will let you have fallbacks/circuitbreakers in places where failures are expected to happen, like connections to db's, connection to 3rd party API's, network stuff and threads. All you have to do is wrap these potentially disastrous invocations in <i>HystrixCommand </i>classes and define their workflow, the rest is done by the library.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">The patters implemented in Hystrix and described in the book are applicable anywhere, specially if you are working on a<b> Service Oriented Architecture</b> (remember kids, nothing to do with that crappy SOAP technology) or API's.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">All in all a really nice framework, could be simpler, or less verbose.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><b>Summary: </b>If you are implementing backend systems that need to run no matter what on the JVM use Hystrix.&nbsp;</div><div style="text-align: justify;"><br /></div>&nbsp;<br /><br /><br /><br /></div>